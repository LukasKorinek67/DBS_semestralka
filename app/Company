package app;

import java.util.ArrayList;
import utils.User;

/**
 *
 * @author lukaskorinek
 */
public class Company extends User {
    
    private String name;
    private String address;
    private String state;
    private String contactPersonName;
    private String contactPersonLastname;
    private String contactPersonEmail;
    

    private Company(String username, String password) {
        super(username, password);
        //načíst z databáze zbytek properties
    }

    private Company(String username, String password, String name, String address, String state, String contactPersonName, String contactPersonLastname, String contactPersonEmail) {
        super(username, password);
        this.name = name;
        this.address = address;
        this.state = state;
        this.contactPersonName = contactPersonName;
        this.contactPersonLastname = contactPersonLastname;
        this.contactPersonEmail = contactPersonEmail;
    }

    /*private Company(String name, String address, String contactPersonName, String contactPersonLastname, String contactPersonEmail) {
        this.name = name;
        this.address = address;
        this.contactPersonName = contactPersonName;
        this.contactPersonLastname = contactPersonLastname;
        this.contactPersonEmail = contactPersonEmail;
    }*/
    
    public static Company login(String username, String password){
        return new Company(username, password);
    }
    
    public static Company createAccount(String username, String password, String name, String address, String state, String contactPersonName, String contactPersonLastname, String contactPersonEmail){
        return new Company(username, password, name, address, state, contactPersonName, contactPersonLastname, contactPersonEmail);
    }

    public String getName() {
        return name;
    }

    public String getAddress() {
        return address;
    }

    public String getState() {
        return state;
    }

    public String getContactPersonName() {
        return contactPersonName;
    }

    public String getContactPersonLastname() {
        return contactPersonLastname;
    }

    public String getContactPersonEmail() {
        return contactPersonEmail;
    }
    
    public void editProfile(String username, String password, String name, String address, String state, String contactPersonName, String contactPersonLastname, String contactPersonEmail){
        this.username = username;
        this.password = password;
        this.name = name;
        this.address = address;
        this.state = state;
        this.contactPersonName = contactPersonName;
        this.contactPersonLastname = contactPersonLastname;
        this.contactPersonEmail = contactPersonEmail;
        // plus upravit v databázi
    }
    
    public void publishPractice(String academicYear, String companyName, String companyAddress, String contactPerson, String description, ArrayList<StudyProgramme> studyProgrammes){
        String[] contactPersonInfo = contactPerson.split(" ");
        String contactPersonName, contactPersonLastName, contactPersonEmail;
        
        if(contactPersonInfo.length >= 3){
            contactPersonName = contactPersonInfo[0];
            contactPersonLastName = contactPersonInfo[1];
            contactPersonEmail = contactPersonInfo[2];
        }else if(contactPersonInfo.length == 2){
        contactPersonName = contactPersonInfo[0];
        contactPersonLastName = contactPersonInfo[1];
        contactPersonEmail = "";
        }else{
            contactPersonName = contactPersonInfo[0];
            contactPersonLastName = "";
            contactPersonEmail = "";
        }
        Company company = new Company(this.username.toString(), this.password.toString(), companyName, companyAddress, this.state,contactPersonName, contactPersonLastName, contactPersonEmail);
        Practice practice = new Practice(description, studyProgrammes, company, academicYear);
        //přidat do databáze
    }
    
    public void editPractice(/**/){
        
    }
    
    public void copyPractice(/**/){
        
    }
    
    public void deletePractice(/**/){
        
    }
    
    public void assignStudentToPractice(/**/){
        
    }
    
    public String /* Předělat na PDF!! */ downloadMessageFromPractice(String practiceDescription){
        //projet praxe v databázi a najít ji, potom stáhnout zprávu
        return "";
    }
    
    @Override
    public String toString() {
        return "Company " + username;
    }
}
